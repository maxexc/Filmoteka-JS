{"mappings":"AAeA,MAAMA,EAAUC,SAASC,cAAc,YACjCC,EAAQF,SAASC,cAAc,OAC/BE,EAAQH,SAASC,cAAc,OAErCC,EAAME,iBAAiB,SAGvB,WACEL,EAAQM,UAAY,GACpBC,EAAS,MACTC,EAAY,MACZC,aAAaC,QAAQ,WAAY,K,IANnCN,EAAMC,iBAAiB,SASvB,WACEL,EAAQM,UAAY,GACpBC,EAAS,MACTC,EAAY,MACZC,aAAaC,QAAQ,WAAY,K,IAInC,MAAMC,EAAkBF,aAAaG,QAAQ,YAI7CC,eAAeL,EAAYM,GACzB,MAAMC,EAAcD,QACdE,MACJ,mGAAmGD,KAElGE,MAAKC,GACGA,EAASC,SAEjBF,MAAKJ,MAAMO,IACVC,QAAQC,IAAIF,EAAKG,QACjB,IAAIC,QAAeJ,EAAKG,OAExB,OADAF,QAAQC,IAAIE,GACLA,CAAM,IAEdC,OAAMC,IACLL,QAAQC,IAAII,EAAM,G,CAlBxBL,QAAQC,IAAIX,GAEZH,EAAYG,GAsBZ,MAAMgB,EAAS,CACb,CAAEC,GAAI,GAAIC,KAAM,UAChB,CAAED,GAAI,GAAIC,KAAM,aAChB,CAAED,GAAI,GAAIC,KAAM,aAChB,CAAED,GAAI,GAAIC,KAAM,UAChB,CAAED,GAAI,GAAIC,KAAM,SAChB,CAAED,GAAI,GAAIC,KAAM,eAChB,CAAED,GAAI,GAAIC,KAAM,SAChB,CAAED,GAAI,MAAOC,KAAM,UACnB,CAAED,GAAI,GAAIC,KAAM,WAChB,CAAED,GAAI,GAAIC,KAAM,WAChB,CAAED,GAAI,GAAIC,KAAM,UAChB,CAAED,GAAI,MAAOC,KAAM,SACnB,CAAED,GAAI,KAAMC,KAAM,WAClB,CAAED,GAAI,MAAOC,KAAM,WACnB,CAAED,GAAI,IAAKC,KAAM,mBACjB,CAAED,GAAI,MAAOC,KAAM,YACnB,CAAED,GAAI,GAAIC,KAAM,YAChB,CAAED,GAAI,MAAOC,KAAM,OACnB,CAAED,GAAI,GAAIC,KAAM,YAoBlBhB,eAAeN,EAASO,GACtB,MAAMC,EAAcD,EAEpB,aAAcgB,OAASd,MACrB,iGAAiGD,YAQhGE,MAAKc,GAAOA,EAAIZ,SAChBF,MAAKJ,MAAMO,IACVC,QAAQC,IAAIF,GACZ,MAAMY,QAAeZ,EAAKa,QACvBC,KAAIC,IAEHd,QAAQC,IAAIa,EAAKC,KAIV,mFAEHD,EAAKE,qBACGF,EAAKG,+GAEYH,EAAKG,6CAzCnB,CAAAC,IACvB,IAAIC,EAAiB,GACrB,MAAMC,EAAWF,EAGjB,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAII,OAAQD,IAC9BE,YAAcjB,EAAOkB,MAAKC,GAAQA,EAAKlB,KAAOa,EAASC,KAAIb,KAC3DW,EAAeO,KAAKH,aAGtB,OAAOJ,CAAc,EAgCSQ,CAAiBb,EAAKc,gBAC1Cd,EAAKe,2FAIEf,EAAKgB,6HAGwBhB,EAAKiB,aAAaC,QAC7C,0DAKZC,KAAK,IACRtD,EAAQM,UAAY,GACpBN,EAAQuD,mBAAmB,YAAavB,EAAO,IAEhDP,OAAMC,GAASL,QAAQC,IAAII,K,CA/ChCnB,EAASI","sources":["src/index.js"],"sourcesContent":["// fetch(\n//         https://api.themoviedb.org/3/trending/movie/day?api_key=2f44dbe234f7609a16da7327d83f3eb3&page=1&language=${currentLang}\n//     )\n//         .then(res => res.json())\n//         .then(data =>  console.log(data))\n// import genresAll from './js/genres.js';\n// import movieCard from './templates/card.hbs';\n\n// console.log(genresAll);\n\n// console.dir(movieCard());\n\n// console.log(genresAll.genresUkr);\n// let genres = genresAll.genresEn;\n\nconst gallery = document.querySelector('.gallery');\nconst btnEn = document.querySelector('#en');\nconst btnUk = document.querySelector('#uk');\n\nbtnEn.addEventListener('click', onEnClick);\nbtnUk.addEventListener('click', onUkClick);\n\nfunction onEnClick() {\n  gallery.innerHTML = '';\n  fetchApi('en');\n  fetchGenres('en');\n  localStorage.setItem('language', 'en');\n  // genres = genresAll.genresEn;\n}\nfunction onUkClick() {\n  gallery.innerHTML = '';\n  fetchApi('uk');\n  fetchGenres('uk');\n  localStorage.setItem('language', 'uk');\n  // genres = genresAll.genresUkr;\n}\n\nconst currentLanguage = localStorage.getItem('language');\nconsole.log(currentLanguage);\n\nfetchGenres(currentLanguage);\nasync function fetchGenres(language) {\n  const currentLang = language;\n  await fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}`\n  )\n    .then(response => {\n      return response.json();\n    })\n    .then(async data => {\n      console.log(data.genres);\n      let genres = await data.genres;\n      console.log(genres);\n      return genres;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n// console.log(genres);\n\nconst genres = [\n  { id: 28, name: 'Action' },\n  { id: 12, name: 'Adventure' },\n  { id: 16, name: 'Animation' },\n  { id: 35, name: 'Comedy' },\n  { id: 80, name: 'Crime' },\n  { id: 99, name: 'Documentary' },\n  { id: 18, name: 'Drama' },\n  { id: 10751, name: 'Family' },\n  { id: 14, name: 'Fantasy' },\n  { id: 36, name: 'History' },\n  { id: 27, name: 'Horror' },\n  { id: 10402, name: 'Music' },\n  { id: 9648, name: 'Mystery' },\n  { id: 10749, name: 'Romance' },\n  { id: 878, name: 'Science Fiction' },\n  { id: 10770, name: 'TV Movie' },\n  { id: 53, name: 'Thriller' },\n  { id: 10752, name: 'War' },\n  { id: 37, name: 'Western' },\n];\n\n// let ids = 37;\n// console.log(ids);\n\nconst searchGenresName = ids => {\n  let genresNamesArr = [];\n  const searchId = ids;\n  // console.log(searchId);\n\n  for (var i = 0; i < ids.length; i++) {\n    elGenreName = genres.find(list => list.id === searchId[i]).name;\n    genresNamesArr.push(elGenreName);\n    // continue;\n  }\n  return genresNamesArr;\n};\n\nfetchApi(currentLanguage);\nasync function fetchApi(language) {\n  const currentLang = language;\n\n  return await (result = fetch(\n    `https://api.themoviedb.org/3/movie/upcoming?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}&page=1`\n    // `https://api.themoviedb.org/3/movie/541134/videos?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}`\n    // `https://api.themoviedb.org/3/search/movie?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}&page=1&include_adult=false`\n    // `https://api.themoviedb.org/3/trending/all/day?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n    // `https://api.themoviedb.org/3/genre/tv/list?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n    // `https://api.themoviedb.org/3/genre/movie/list?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n    // `https://api.themoviedb.org/3/trending/movie/day?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n  )\n    .then(res => res.json())\n    .then(async data => {\n      console.log(data);\n      const markup = await data.results\n        .map(item => {\n          // src = `'https://image.tmdb.org/t/p/w500${item.poster_path}'`;\n          console.log(item.img);\n          // console.log(item.genre_ids);\n          // console.log(movieCard());\n          // return movieCard(data.results);\n          return `<li class='gallery-item'>\n            <img src='https://image.tmdb.org/t/p/w500${\n              item.poster_path\n            }' alt='${item.title}' width='309' height='449'/>\n            <div class='card-box'>\n              <h3 class='card-title'>${item.title}</h3>\n              <p class='text'>${searchGenresName(item.genre_ids)} | ${\n            item.release_date\n          }</p>\n            </div>\n             <div class=\"over\">\n              <p>${item.overview}</p>\n              </div>\n                  <div class=\"rating\">\n                   <span class=\"rating-value\">${item.vote_average.toFixed(\n                     1\n                   )}</span>\n                  </div>\n          </li>`;\n        })\n        .join('');\n      gallery.innerHTML = '';\n      gallery.insertAdjacentHTML('beforeend', markup);\n    })\n    .catch(error => console.log(error)));\n}\n"],"names":["$1f0dc3b9307be026$var$gallery","document","querySelector","$1f0dc3b9307be026$var$btnEn","$1f0dc3b9307be026$var$btnUk","addEventListener","innerHTML","$1f0dc3b9307be026$var$fetchApi","$1f0dc3b9307be026$var$fetchGenres","localStorage","setItem","$1f0dc3b9307be026$var$currentLanguage","getItem","async","language","currentLang","fetch","then","response","json","data","console","log","genres","genres1","catch","error","$1f0dc3b9307be026$var$genres","id","name","result","res","markup","results","map","item","img","poster_path","title","ids","genresNamesArr","searchId","i","length","elGenreName","find","list","push","$1f0dc3b9307be026$var$searchGenresName","genre_ids","release_date","overview","vote_average","toFixed","join","insertAdjacentHTML"],"version":3,"file":"index.323731ce.js.map"}