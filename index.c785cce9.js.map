{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,YACjCC,EAAQF,SAASC,cAAc,OAC/BE,EAAQH,SAASC,cAAc,OAErCC,EAAME,iBAAiB,SAGvB,WACEL,EAAQM,UAAY,GACpBC,EAAS,MACTC,aAAaC,QAAQ,WAAY,K,IALnCL,EAAMC,iBAAiB,SAOvB,WACEL,EAAQM,UAAY,GACpBC,EAAS,MACTC,aAAaC,QAAQ,WAAY,K,IAGnC,MAAMC,EAAkBF,aAAaG,QAAQ,YAC7CC,QAAQC,IAAIH,GAGZI,eAA2BC,GACzB,MAAMC,EAAcD,QACdE,MACJ,mGAAmGD,KAElGE,MAAKC,GACGA,EAASC,SAEjBF,MAAKJ,MAAMO,IACVT,QAAQC,IAAIQ,EAAKC,QACjB,IAAIA,QAAeD,EAAKC,OAExB,OADAV,QAAQC,IAAIS,GACLA,CAAM,IAEdC,OAAMC,IACLZ,QAAQC,IAAIW,EAAM,G,CAhBxBC,CAAYf,GAuCZI,eAAeP,EAASQ,GACtB,MAAMC,EAAcD,QAEdE,MACJ,iGAAiGD,YAQhGE,MAAKQ,GAAOA,EAAIN,SAChBF,MAAKG,IACJT,QAAQC,IAAIQ,GACZ,MAAMM,EAASN,EAAKO,QACjBC,KAAIC,GACI,kGAEmCA,EAAKC,8JAKlBD,EAAKE,6CACZF,EAAKG,eAAeH,EAAKI,0FAGtCJ,EAAKK,kIAILL,EAAKM,aAAaC,QAAQ,mEAKpCC,KAAK,IACRtC,EAAQM,UAAY,GACpBN,EAAQuC,mBAAmB,YAAaZ,EAAO,IAEhDJ,OAAMC,GAASZ,QAAQC,IAAIW,I,CA1ChCjB,EAASG","sources":["src/index.js"],"sourcesContent":["const gallery = document.querySelector('.gallery');\nconst btnEn = document.querySelector('#en');\nconst btnUk = document.querySelector('#uk');\n\nbtnEn.addEventListener('click', onEnClick);\nbtnUk.addEventListener('click', onUkClick);\n\nfunction onEnClick() {\n  gallery.innerHTML = '';\n  fetchApi('en');\n  localStorage.setItem('language', 'en');\n}\nfunction onUkClick() {\n  gallery.innerHTML = '';\n  fetchApi('uk');\n  localStorage.setItem('language', 'uk');\n}\n\nconst currentLanguage = localStorage.getItem('language');\nconsole.log(currentLanguage);\n\nfetchGenres(currentLanguage);\nasync function fetchGenres(language) {\n  const currentLang = language;\n  await fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}`\n  )\n    .then(response => {\n      return response.json();\n    })\n    .then(async data => {\n      console.log(data.genres);\n      let genres = await data.genres;\n      console.log(genres);\n      return genres;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n// console.log(genres);\n\n// let ids = 37;\n// console.log(ids);\n\nconst searchGenresName = ids => {\n  let genresNamesArr = [];\n  const searchId = ids;\n  // console.log(searchId);\n\n  for (var i = 0; i < ids.length; i++) {\n    elGenreName = genres.find(list => list.id === searchId[i]).name;\n    genresNamesArr.push(elGenreName);\n    // continue;\n  }\n  return genresNamesArr;\n};\n\nfetchApi(currentLanguage);\nasync function fetchApi(language) {\n  const currentLang = language;\n\n  await fetch(\n    `https://api.themoviedb.org/3/movie/upcoming?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}&page=1`\n    // `https://api.themoviedb.org/3/movie/541134/videos?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}`\n    // `https://api.themoviedb.org/3/search/movie?api_key=f87210516a7f6fda7a5c975f08793382&language=${currentLang}&page=1&include_adult=false`\n    // `https://api.themoviedb.org/3/trending/all/day?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n    // `https://api.themoviedb.org/3/genre/tv/list?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n    // `https://api.themoviedb.org/3/genre/movie/list?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n    // `https://api.themoviedb.org/3/trending/movie/day?api_key=f87210516a7f6fda7a5c975f08793382&page=1&language=${currentLang}`\n  )\n    .then(res => res.json())\n    .then(data => {\n      console.log(data);\n      const markup = data.results\n        .map(item => {\n          return `<li class=\"gallery-item\">\n            <img\n              src=\"https://image.tmdb.org/t/p/w342${item.poster_path}\"\n              alt=\"big\"\n              width=\"395\"\n            />\n            <div class=\"card-box\">\n              <h3 class=\"card-title\">${item.title}</h3>\n              <p class=\"text\">${item.genre_ids} | ${item.release_date}</p>\n            </div>\n            <div class=\"over\">\n              <p>${item.overview}</p>\n            </div>\n            <div class=\"rating\">\n              <span class=\"rating-value\"\n                >${item.vote_average.toFixed(1)}</span\n              >\n            </div>\n          </li>`;\n        })\n        .join('');\n      gallery.innerHTML = '';\n      gallery.insertAdjacentHTML('beforeend', markup);\n    })\n    .catch(error => console.log(error));\n}\n"],"names":["$1f0dc3b9307be026$var$gallery","document","querySelector","$1f0dc3b9307be026$var$btnEn","$1f0dc3b9307be026$var$btnUk","addEventListener","innerHTML","$1f0dc3b9307be026$var$fetchApi","localStorage","setItem","$1f0dc3b9307be026$var$currentLanguage","getItem","console","log","async","language","currentLang","fetch","then","response","json","data","genres","catch","error","$1f0dc3b9307be026$var$fetchGenres","res","markup","results","map","item","poster_path","title","genre_ids","release_date","overview","vote_average","toFixed","join","insertAdjacentHTML"],"version":3,"file":"index.c785cce9.js.map"}